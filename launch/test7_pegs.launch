<launch>

  <arg name="gui" default="false" doc="(bool) Launch the gazebo GUI"/>
  <arg name="hand" default="true" doc="(bool) Launch the robot with a hand"/>

  <param name="peg_description" command="$(find xacro)/xacro.py '$(find lcsr_spacenav)/objects/peg.urdf.xacro' xx:=1 yy:=1" />

  <!-- start the spacenav 3d mouse -->
  <node pkg="spacenav_node" type="spacenav_node" name="spacenav_node" />

  <node pkg="lcsr_spacenav" type="spacenav_tf_node" name="spacenav_tf_node" />

  <!--
    This launchfile brings up a single 7-DOF WAM robot in the gazebo simulator from the lcsr_barrett package.
    -->
  <include file="$(find lcsr_barrett)/sim/wam7_sim_ik.launch" >
    <arg name="gui" value="$(arg gui)" />
    <arg name="hand" value="$(arg hand)" />
  </include>

  <node name="$(anon urdf_spawner)" pkg="gazebo_ros" type="spawn_model" respawn="false" output="screen" 
    args="-urdf -model peg1 -param peg_description"/>

  <node pkg="rviz" type="rviz" name="rviz" args="-d $(find lcsr_spacenav)/config/tf_peg1.rviz" />

</launch>
